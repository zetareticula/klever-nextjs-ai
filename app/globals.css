@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    /* Base colors for light mode */
    --foreground-rgb: 30, 30, 30;
    --background-start-rgb: 249, 250, 251;
    --background-end-rgb: 255, 255, 255;
    
    /* Color system variables */
    --background: #ffffff;
    --foreground: #1a1a1a;
    --card: #ffffff;
    --card-foreground: #1a1a1a;
    --popover: #ffffff;
    --popover-foreground: #1a1a1a;
    --primary: #3b82f6;
    --primary-foreground: #ffffff;
    --secondary: #f3f4f6;
    --secondary-foreground: #1a1a1a;
    --muted: #f9fafb;
    --muted-foreground: #6b7280;
    --accent: #f3f4f6;
    --accent-foreground: #1a1a1a;
    --destructive: #ef4444;
    --destructive-foreground: #ffffff;
    --border: #e5e7eb;
    --input: #e5e7eb;
    --ring: #93c5fd;
    --radius: 0.5rem;
    
    /* Sidebar specific variables */
    --sidebar-background: #f9fafb;
    --sidebar-foreground: #1a1a1a;
    --sidebar-primary: #3b82f6;
    --sidebar-primary-foreground: #ffffff;
    --sidebar-accent: #f3f4f6;
    --sidebar-accent-foreground: #1a1a1a;
    --sidebar-border: #e5e7eb;
    --sidebar-ring: #93c5fd;
    
        /* Shadow variables */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    
    /* Layout variables */
    --header-height: 4rem;
    --sidebar-width: 16rem;
    --border-radius: 0.5rem;
}

@media (prefers-color-scheme: dark) {
    :root {
        --foreground-rgb: 255, 255, 255;
        --background-start-rgb: 120, 150, 170;  /* Darker Cyan */
        --background-end-rgb: 165, 95, 70;      /* Darker Terracotta */
    }
}

.dark {
    /* Dark mode variables */
    --background: #0f172a;
    --foreground: #f8fafc;
    --card: #1e293b;
    --card-foreground: #f8fafc;
    --popover: #1e293b;
    --popover-foreground: #f8fafc;
    --primary: #60a5fa;
    --primary-foreground: #1e293b;
    --secondary: #334155;
    --secondary-foreground: #f8fafc;
    --muted: #1e293b;
    --muted-foreground: #94a3b8;
    --accent: #334155;
    --accent-foreground: #f8fafc;
    --destructive: #ef4444;
    --destructive-foreground: #f8fafc;
    --border: #334155;
    --input: #334155;
    --ring: #60a5fa;
    
    /* Sidebar dark mode */
    --sidebar-background: #0f172a;
    --sidebar-foreground: #f8fafc;
    --sidebar-primary: #60a5fa;
    --sidebar-primary-foreground: #0f172a;
    --sidebar-accent: #334155;
    --sidebar-accent-foreground: #f8fafc;
    --sidebar-border: #334155;
    --sidebar-ring: #60a5fa;
    
    /* Dark mode shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.25);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.3), 0 1px 2px -1px rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.3), 0 4px 6px -4px rgb(0 0 0 / 0.3);
}

/* Disable animations by default for seniors - prevent motion sickness */
@media (prefers-reduced-motion), (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
        transform: none !important;
        text-shadow: none !important;
    }
    
    .main-panel {
        transform: none !important;
    }
    
    body::before {
        animation: none !important;
    }
}

@layer utilities {
    .text-balance {
        text-wrap: balance;
    }
    
        /* Utility classes */
    .card {
        background: var(--card);
        border: 1px solid var(--border);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        transition: box-shadow 0.2s ease, transform 0.2s ease;
    }
    
    .card-hover:hover {
        box-shadow: var(--shadow-md);
        transform: translateY(-1px);
    }
    
    .btn {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--radius);
        padding: 0.5rem 1rem;
        font-weight: 500;
        transition: all 0.2s ease;
        cursor: pointer;
    }
    
    .btn-primary {
        background-color: var(--primary);
        color: var(--primary-foreground);
        border: 1px solid var(--primary);
    }
    
    .btn-primary:hover {
        background-color: color-mix(in srgb, var(--primary) 90%, black);
        border-color: color-mix(in srgb, var(--primary) 90%, black);
    }
    
    .btn-secondary {
        background-color: var(--secondary);
        color: var(--secondary-foreground);
        border: 1px solid var(--border);
    }
    
    .btn-secondary:hover {
        background-color: color-mix(in srgb, var(--secondary) 90%, black);
    }
    
    /* New utilities for seniors */
    .text-senior-base {
        font-size: 1.6rem !important;
        line-height: 1.6 !important;
        letter-spacing: 0.01em !important;
    }
    
    .text-senior-lg {
        font-size: 1.8rem !important;
        line-height: 1.5 !important;
        letter-spacing: 0.01em !important;
    }
    
    .text-senior-xl {
        font-size: 2rem !important;
        line-height: 1.4 !important;
        letter-spacing: 0.02em !important;
    }
    
    .text-senior-2xl {
        font-size: 2.25rem !important;
        line-height: 1.3 !important;
        letter-spacing: 0.02em !important;
    }
    
    .senior-spacing {
        letter-spacing: 0.02em !important;
        word-spacing: 0.05em !important;
    }
    
    .senior-line-height {
        line-height: 1.8 !important;
    }
    
    .senior-paragraph {
        margin-bottom: 1.5em !important;
    }
    
    .senior-focus {
        outline: 4px solid var(--primary) !important;
        outline-offset: 2px !important;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    /* Body with updated font sizing for seniors */
    body {
        font-family: "Aptos", sans-serif;
        font-size: 1.6rem !important; /* Bigger base font size for seniors */
        line-height: 1.6 !important;  /* Improved line height for readability */
        letter-spacing: 0.01em;       /* Slightly increased letter spacing */
        word-spacing: 0.05em;         /* Slightly increased word spacing */
        color: rgba(0, 0, 0, 1) !important; /* Maximum contrast */
        position: relative;
        min-height: 100vh;
        @apply text-foreground;
        overflow-x: hidden;
        perspective: 1000px;
    }
    
    /* Main background gradient with REDUCED 3D depth for seniors */
    body::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--main-gradient);
        background-size: 200% 200%; /* Reduced complexity */
        background-position: 0% 50%;
        background-repeat: no-repeat;
        background-attachment: fixed;
        z-index: -2;
        box-shadow: inset 0 0 50px rgba(0, 0, 0, 0.1);
        /* Disable animation by default for seniors */
        animation: none;
    }
    
    /* Enable animation only for those who prefer it */
    @media (prefers-reduced-motion: no-preference) {
        body::before {
            animation: subtle-gradient-shift 30s ease infinite alternate; /* Slower animation */
        }
        
        @keyframes subtle-gradient-shift {
            0% {
                background-position: 0% 50%;
            }
            100% {
                background-position: 100% 50%;
            }
        }
    }
    
    /* Bottom gradient overlay with REDUCED 3D effect for seniors */
    body::after {
        content: '';
        position: absolute;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 30%;
        background: var(--bottom-gradient);
        background-size: 200% 200%;
        background-position: 0% 50%;
        background-repeat: no-repeat;
        z-index: -1;
        box-shadow: 0 -3px 10px rgba(0, 0, 0, 0.1);
        opacity: 0.7;
    }
    
    /* Panel effect with REDUCED 3D effect for seniors */
    .main-panel {
        background-color: hsl(20, 75%, 88%);  /* Lighter peach for better contrast */
        border-radius: var(--radius);
        margin-left: 5%;              /* Reduced side margin for better readability */
        margin-right: 5%;             /* More symmetric margins */
        margin-top: 2%;
        margin-bottom: 5%;
        min-height: 80vh;
        /* Simplified 3D shadow */
        box-shadow: 
            3px 3px 10px var(--shadow-dark),
            -1px -1px 5px var(--highlight);
        overflow: hidden;
        position: relative;
        z-index: 1;
        /* Reduced 3D transformation */
        transform: none;              /* Remove 3D rotation for seniors */
        transform-style: preserve-3d;
        transition: transform 0.3s ease;
    }
    
    /* Remove hover effect for seniors to reduce confusion */
    .main-panel:hover {
        transform: none;
    }
    
    /* Add inner highlight to main panel - SIMPLIFIED */
    .main-panel::after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 40%;
        background: linear-gradient(to bottom, 
                                  hsla(20, 75%, 95%, 0.1), 
                                  transparent);
        pointer-events: none;
        border-radius: var(--radius) var(--radius) 0 0;
    }

    .dark body {
        color: rgba(255, 255, 255, 1) !important; /* Pure white text for maximum contrast */
    }
    
    .dark .main-panel {
        background-color: hsl(15, 55%, 45%); /* Lighter background for better contrast */
        box-shadow: 
            5px 5px 15px rgba(0, 0, 0, 0.25),
            -1px -1px 5px var(--shadow-light);
    }
    
    .dark .main-panel::after {
        background: linear-gradient(to bottom, 
                                  hsla(15, 55%, 55%, 0.1), 
                                  transparent);
    }

    /* Ensure Aptos font is properly defined */
    @font-face {
        font-family: "Aptos";
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url(/fonts/aptos.woff2) format("woff2");
    }

    /* Update monospace font */
    @font-face {
        font-family: "Aptos Mono";
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url(/fonts/geist-mono.woff2) format("woff2");
    }
    
    /* ENHANCED headings for seniors */
    h1, h2, h3, h4, h5, h6 {
        line-height: 1.3;
        margin-bottom: 1em;         /* Increased bottom margin */
        margin-top: 1em;            /* Added top margin */
        position: relative;
        font-weight: 700;           /* Bolder headings */
        letter-spacing: 0.02em;     /* Slightly increased letter spacing */
        /* Reduced text shadow for better readability */
        text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.1);
    }
    
    /* Header sizes optimized for seniors */
    h1 {
        font-size: 2.6rem !important;
        margin-bottom: 1.2em;
    }
    
    h2 {
        font-size: 2.3rem !important;
        margin-bottom: 1.1em;
    }
    
    h3 {
        font-size: 2rem !important;
        margin-bottom: 1em;
    }
    
    h4 {
        font-size: 1.8rem !important;
        margin-bottom: 0.9em;
    }
    
    h5 {
        font-size: 1.7rem !important;
        margin-bottom: 0.8em;
    }
    
    h6 {
        font-size: 1.6rem !important;
        margin-bottom: 0.7em;
    }
    
    /* Simplified heading effect for seniors */
    h1::after, h2::after, h3::after {
        content: '';
        position: absolute;
        left: 0;
        bottom: -0.3em;
        width: 100%;
        height: 2px;
        background: linear-gradient(to right, 
                                  var(--primary), 
                                  transparent 80%);
        border-radius: 1px;
    }
    
    /* Enhanced links for seniors */
    a {
        text-decoration: underline;
        text-underline-offset: 0.3em;   /* Increased underline offset for clarity */
        text-decoration-thickness: 2px; /* Thicker underline for better visibility */
        transition: all 0.2s ease;
        position: relative;
        color: hsl(200, 80%, 35%);     /* Distinct link color with high contrast */
        font-weight: 500;              /* Slightly bolder links */
    }
    
    .dark a {
        color: hsl(200, 80%, 65%);     /* Brighter link color for dark mode */
    }
    
    a:hover {
        text-decoration-thickness: 3px; /* Even thicker underline on hover */
        color: hsl(200, 100%, 30%);    /* Darker color on hover for light mode */
    }
    
    .dark a:hover {
        color: hsl(200, 100%, 75%);    /* Brighter color on hover for dark mode */
    }
    
    /* Greatly enhanced focus states for seniors */
    :focus {
        outline: 4px solid var(--primary) !important;
        outline-offset: 4px !important;
    }
    
    /* New - Skip to content link positioned for better visibility */
    .skip-to-content {
        position: absolute;
        z-index: 1000;
        left: 50%;
        transform: translateX(-50%);
        top: 0.5rem;
        background: var(--primary);
        padding: 1rem 2rem;
        border-radius: var(--radius);
        font-size: 1.6rem;
        font-weight: bold;
        border: 2px solid var(--foreground);
        opacity: 0;
        pointer-events: none;
    }
    
    .skip-to-content:focus {
        opacity: 1;
        pointer-events: auto;
    }
}

/* Make skeleton loading states more visible for seniors */
.skeleton {
    * {
        pointer-events: none !important;
    }

    *[class^="text-"] {
        color: transparent; 
        @apply rounded-md bg-foreground/25 select-none animate-pulse;
    }

    .skeleton-bg {
        @apply bg-foreground/10;
    }

    .skeleton-div {
        @apply bg-foreground/25 animate-pulse;
    }
}

/* CodeMirror editor with ENHANCED contrast for seniors */
.ProseMirror {
    outline: none;
    font-size: 1.6rem !important;
}

.cm-editor,
.cm-gutters {
    @apply outline-none selection:bg-zinc-300 dark:selection:bg-zinc-600 !important;
    background: linear-gradient(135deg, hsl(195, 35%, 85%), hsl(36, 85%, 85%)) !important;
    box-shadow: inset 1px 1px 2px var(--highlight),
                inset -1px -1px 2px var(--shadow-dark) !important;
    font-size: 1.6rem !important;
}

.dark .cm-editor,
.dark .cm-gutters {
    background: linear-gradient(135deg, hsl(195, 25%, 35%), hsl(36, 45%, 35%)) !important;
}

/* Enhanced selection colors for seniors */
.ͼo.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground,
.ͼo.cm-selectionBackground,
.ͼo.cm-content::selection {
    @apply bg-zinc-300 dark:bg-zinc-500 !important;
}

.cm-activeLine,
.cm-activeLineGutter {
    @apply bg-transparent !important;
    /* Simplified 3D active line effect */
    box-shadow: inset 1px 1px 2px var(--highlight),
                inset -1px -1px 2px var(--shadow-dark) !important;
}

.cm-activeLine {
    @apply rounded-r-sm !important;
}

.cm-lineNumbers {
    @apply min-w-7;
    font-size: 1.6rem !important;
}

.cm-foldGutter {
    @apply min-w-3;
}

.cm-lineNumbers .cm-activeLineGutter {
    @apply rounded-l-sm !important;
}

/* Stronger highlight colors for seniors */
.suggestion-highlight {
    @apply bg-green-300 hover:bg-green-400 dark:hover:bg-green-400 dark:text-green-50 dark:bg-green-500/50;
    /* Simplified 3D highlight effect */
    box-shadow: inset 1px 1px 2px rgba(255, 255, 255, 0.2),
                inset -1px -1px 2px rgba(0, 0, 0, 0.1);
}

/* Component styles with ENHANCED CONTRAST for seniors */
.card, .button, .input {
    background: var(--card);
    @apply border-green-600 text-green-900 shadow-sm;
    /* Simplified 3D effect */
    box-shadow:
        2px 2px 4px var(--shadow-dark),
        -1px -1px 2px var(--highlight);
}

.dark .card, .dark .button, .dark .input {
    background: var(--card);
    @apply border-green-500 text-green-50 shadow-sm;
    /* Simplified 3D effect for dark mode */
    box-shadow:
        2px 2px 4px rgba(0, 0, 0, 0.3),
        -1px -1px 2px var(--shadow-light);
}

/* Enhanced footer for seniors */
.footer {
    background: var(--bottom-gradient);
    /* Simplified 3D effect for footer */
    box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
    position: relative;
    z-index: 2;
    padding: 2rem 0;    /* Increased padding */
    font-size: 1.6rem;  /* Larger text */
    line-height: 1.6;
}

.dark .footer {
    background: var(--bottom-gradient);
    box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
}

/* ENHANCED BUTTONS for seniors - bigger, more visible */
button, 
input[type="button"], 
input[type="submit"],
input[type="reset"] {
    padding: 0.75rem 1.5rem;        /* Larger padding */
    font-size: 1.6rem;              /* Larger text */
    font-weight: 600;               /* Bolder text */
    border-radius: var(--radius);
    position: relative;
    transition: all 0.2s ease;
    /* Simplified 3D button effect */
    box-shadow:
        2px 2px 4px var(--shadow-dark),
        -1px -1px 2px var(--highlight);
    transform: translateY(0);
    margin: 0.5rem 0;               /* Add margin between buttons */
}

/* Simplified button press effect for seniors */
button:active, 
input[type="button"]:active, 
input[type="submit"]:active,
input[type="reset"]:active {
    box-shadow:
        1px 1px 2px var(--shadow-dark),
        -1px -1px 1px var(--highlight),
        inset 1px 1px 3px var(--shadow-dark),
        inset -1px -1px 1px var(--highlight);
    transform: translateY(1px);
}

/* ENHANCED FORM ELEMENTS for seniors */
input, 
textarea, 
select {
    font-size: 1.6rem;              /* Larger text */
    padding: 1rem;                  /* More padding */
    border-radius: var(--radius);
    border: 3px solid var(--border); /* Thicker border */
    /* Simplified 3D input effect */
    box-shadow:
        inset 1px 1px 3px var(--shadow-dark),
        inset -1px -1px 3px var(--highlight);
    margin: 0.75rem 0;              /* Add margin between inputs */
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
        transform: none !important;
        text-shadow: none !important;
    }
    
    .main-panel {
        transform: none !important;
    }
}

/* Improved readability for mobile devices */
@media (max-width: 768px) {
    body {
        font-size: 1.6rem !important; /* Keep font size large even on mobile */
    }
    
    .main-panel {
        margin-left: 5%;
        margin-right: 5%;
        /* Remove 3D effect on mobile */
        transform: none;
    }
    
    /* Stack buttons vertically on mobile for bigger touch targets */
    button, 
    input[type="button"], 
    input[type="submit"],
    input[type="reset"] {
        display: block;
        width: 100%;
        margin: 1rem 0;
        padding: 1rem;
    }
    
    /* Full width inputs on mobile */
    input, 
    textarea, 
    select {
        width: 100%;
    }
}

/* Improved readability of code blocks for seniors */
pre {
    font-size: 1.6rem;            /* Larger code text */
    line-height: 1.8;             /* Increased line height */
    padding: 1.5rem;              /* More padding */
    border-radius: var(--radius);
    background: var(--input);
    color: var(--foreground);
    /* Simplified 3D effect for code blocks */
    box-shadow:
        inset 1px 1px 3px var(--shadow-dark),
        inset -1px -1px 3px var(--highlight);
    position: relative;
    margin: 1.5rem 0;            /* Add margin above and below */
    border: 2px solid var(--border); /* Add border for visibility */
}

/* Simplified code block styling */
pre::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 40%;
    background: linear-gradient(to bottom, 
                                  hsla(20, 75%, 95%, 0.1), 
                                  transparent);
    pointer-events: none;
    border-radius: var(--radius) var(--radius) 0 0;
    z-index: 1;
    opacity: 0.5;                /* Reduced opacity for better readability */
}

/* Enhanced code block line numbers */
pre .line-numbers {
    font-size: 1.6rem;           /* Larger line numbers */
    color: var(--foreground);    /* High contrast color */
    background: var(--input);    /* Match input background */
    padding: 1rem;               /* More padding */
    border-radius: var(--radius);
    box-shadow:
        inset 1px 1px 3px var(--shadow-dark),
        inset -1px -1px 3px var(--highlight);
}

/* Enhanced code block line highlighting */
pre .line-highlight {
    background: var(--highlight);
    border-radius: var(--radius);
    box-shadow:
        inset 1px 1px 3px var(--shadow-dark),
        inset -1px -1px 3px var(--highlight);
}

/* Enhanced code block selection */
pre .cm-selectionBackground {
    background: var(--highlight);
    border-radius: var(--radius);
    box-shadow:
        inset 1px 1px 3px var(--shadow-dark),
        inset -1px -1px 3px var(--highlight);
}

/* Enhanced code block focus */
pre:focus {
    outline: 4px solid var(--primary) !important;
    outline-offset: 4px !important;
}

/* Enhanced code block focus for dark mode */
.dark pre:focus {
    outline: 4px solid var(--primary) !important;
    outline-offset: 4px !important;
}

/* Enhanced code block focus for seniors */
.senior-focus {
    outline: 4px solid var(--primary) !important;
    outline-offset: 4px !important;
}

/* Enhanced code block focus for seniors in dark mode */
.dark .senior-focus {
    outline: 4px solid var(--primary) !important;
    outline-offset: 4px !important;
}

/* Enhanced code block focus for seniors in light mode */
.senior-focus-light {
    outline: 4px solid var(--primary) !important;
    outline-offset: 4px !important;
}











