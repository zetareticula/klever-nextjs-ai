@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    /* Base colors for light mode with proper HSL syntax */
    --foreground-rgb: 0, 0, 0;
    --background-start-rgb: 16, 80%, 65%; /* More peachy/terracotta */
    --background-end-rgb: 25, 65%, 45%; /* Darker hue */
    
    /* Color system variables */
    --background: hsl(16, 80%, 65%);
    --foreground: hsl(0, 0%, 15%);
    --card: hsl(25, 70%, 90%);
    --card-foreground: hsl(0, 0%, 15%);
    --popover: hsl(25, 70%, 90%);
    --popover-foreground: hsl(0, 0%, 15%);
    --primary: hsl(16, 80%, 65%);
    --primary-foreground: hsl(0, 0%, 15%);
    --secondary: hsl(120, 40%, 45%);
    --secondary-foreground: hsl(0, 0%, 100%);
    --muted: hsl(25, 30%, 90%);
    --muted-foreground: hsl(0, 0%, 20%);
    --accent: hsl(120, 40%, 45%);
    --accent-foreground: hsl(0, 0%, 100%);
    --destructive: hsl(0, 70%, 60%);
    --destructive-foreground: hsl(0, 0%, 98%);
    --border: hsl(16, 60%, 65%);
    --input: hsl(25, 70%, 90%);
    --ring: hsl(16, 80%, 65%);
    --chart-1: hsl(16, 80%, 65%);
    --chart-2: hsl(25, 70%, 90%);
    --chart-3: hsl(120, 40%, 45%);
    --chart-4: hsl(16, 75%, 55%);
    --chart-5: hsl(120, 50%, 40%);
    --radius: 1.5rem; /* Increased border radius */
    
    /* Sidebar specific variables */
    --sidebar-background: hsl(16, 80%, 55%);
    --sidebar-foreground: hsl(0, 0%, 15%);
    --sidebar-primary: hsl(16, 80%, 65%);
    --sidebar-primary-foreground: hsl(0, 0%, 15%);
    --sidebar-accent: hsl(120, 40%, 45%);
    --sidebar-accent-foreground: hsl(0, 0%, 100%);
    --sidebar-border: hsl(16, 60%, 65%);
    --sidebar-ring: hsl(16, 80%, 65%);
    
    /* Gradient definitions - updated for peach/terracotta to darker hue */
    --main-gradient: linear-gradient(to right, hsl(16, 80%, 65%), hsl(25, 65%, 45%));
    --button-gradient: linear-gradient(to right, hsl(16, 75%, 65%), hsl(25, 65%, 55%));
    --header-gradient: linear-gradient(to right, hsl(16, 80%, 60%), hsl(25, 60%, 50%));
    --table-header-gradient: linear-gradient(to right, hsl(16, 70%, 65%), hsl(25, 60%, 55%));
    --scrollbar-track-gradient: linear-gradient(to bottom, hsl(16, 50%, 85%), hsl(25, 40%, 75%));
    --scrollbar-thumb-gradient: linear-gradient(to bottom, hsl(16, 70%, 65%), hsl(25, 60%, 55%));
    
    /* New variables for floating effects */
    --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.1), 0 1px 8px rgba(0, 0, 0, 0.05);
    --floating-blur: 15px;
    --floating-opacity: 0.9;
}

@media (prefers-color-scheme: dark) {
    :root {
        --foreground-rgb: 255, 255, 255;
        --background-start-rgb: 16, 70%, 35%;
        --background-end-rgb: 25, 60%, 25%;
    }
}

.dark {
    /* Dark mode with reduced contrast for eye strain */
    --background: hsl(16, 70%, 35%);
    --foreground: hsl(0, 0%, 95%);
    --card: hsl(16, 65%, 25%);
    --card-foreground: hsl(0, 0%, 95%);
    --popover: hsl(16, 65%, 25%);
    --popover-foreground: hsl(0, 0%, 95%);
    --primary: hsl(25, 60%, 55%);
    --primary-foreground: hsl(0, 0%, 15%);
    --secondary: hsl(120, 35%, 35%);
    --secondary-foreground: hsl(0, 0%, 95%);
    --muted: hsl(16, 50%, 20%);
    --muted-foreground: hsl(0, 0%, 85%);
    --accent: hsl(120, 35%, 35%);
    --accent-foreground: hsl(0, 0%, 95%);
    --destructive: hsl(0, 50%, 40%);
    --destructive-foreground: hsl(0, 0%, 95%);
    --border: hsl(16, 50%, 35%);
    --input: hsl(16, 50%, 35%);
    --ring: hsl(25, 45%, 60%);
    --chart-1: hsl(16, 70%, 45%);
    --chart-2: hsl(25, 60%, 55%);
    --chart-3: hsl(120, 35%, 45%);
    --chart-4: hsl(16, 65%, 40%);
    --chart-5: hsl(120, 45%, 35%);
    
    /* Sidebar dark mode variables */
    --sidebar-background: hsl(16, 65%, 25%);
    --sidebar-foreground: hsl(0, 0%, 95%);
    --sidebar-primary: hsl(16, 70%, 40%);
    --sidebar-primary-foreground: hsl(0, 0%, 95%);
    --sidebar-accent: hsl(120, 35%, 35%);
    --sidebar-accent-foreground: hsl(0, 0%, 95%);
    --sidebar-border: hsl(16, 50%, 35%);
    --sidebar-ring: hsl(16, 70%, 45%);
    
    /* Dark mode gradient definitions */
    --main-gradient: linear-gradient(to right, hsl(16, 70%, 35%), hsl(25, 60%, 25%));
    --button-gradient: linear-gradient(to right, hsl(16, 70%, 40%), hsl(25, 60%, 30%));
    --header-gradient: linear-gradient(to right, hsl(16, 70%, 30%), hsl(25, 55%, 25%));
    --table-header-gradient: linear-gradient(to right, hsl(16, 60%, 35%), hsl(25, 50%, 30%));
    --scrollbar-track-gradient: linear-gradient(to bottom, hsl(16, 30%, 20%), hsl(25, 25%, 25%));
    --scrollbar-thumb-gradient: linear-gradient(to bottom, hsl(16, 50%, 35%), hsl(25, 45%, 30%));
    
    /* Dark mode floating effects */
    --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.25), 0 1px 8px rgba(0, 0, 0, 0.15);
    --floating-blur: 20px;
    --floating-opacity: 0.85;
}

@layer utilities {
    .text-balance {
        text-wrap: balance;
    }
}

@layer base {
    * {
        @apply border-border;
    }

    /* Body with proper background gradient implementation */
    body {
        /* Ensure Aptos font is applied */
        font-family: "Aptos", sans-serif;
        /* Increased font size for better accessibility */
        font-size: 1.4rem;
        line-height: 1.5;
        /* Slightly softer than pure black */
        color: rgba(0, 0, 0, 0.85) !important;
        /* Updated gradient for peach/terracotta to darker hue */
        background: var(--main-gradient);
        background-size: 100% 100%;
        background-repeat: no-repeat;
        background-attachment: fixed;
        @apply text-foreground;
    }

    .dark body {
        color: rgba(245, 245, 245, 0.95) !important;
        /* Darker gradient for dark mode - fixed */
        background: var(--main-gradient);
        background-size: 100% 100%;
        background-repeat: no-repeat;
        background-attachment: fixed;
    }

    /* Ensure Aptos font is properly defined */
    @font-face {
        font-family: "Aptos";
        font-style: normal;
        font-weight: 100 900;
        font-display: swap; /* Improve text rendering */
        src: url(/fonts/aptos.woff2) format("woff2");
    }

    /* Update monospace font */
    @font-face {
        font-family: "Aptos Mono";
        font-style: normal;
        font-weight: 100 900;
        font-display: swap;
        src: url(/fonts/geist-mono.woff2) format("woff2");
    }
    
    /* Accessibility improvements */
    h1, h2, h3, h4, h5, h6 {
        line-height: 1.3;
        margin-bottom: 0.8em;
    }
    
    a {
        text-decoration: underline;
        text-underline-offset: 0.2em;
    }
    
    /* Improve focus states for accessibility */
    :focus {
        outline: 3px solid var(--primary);
        outline-offset: 2px;
    }
}

/* Make skeleton loading states easier on the eyes */
.skeleton {
    * {
        pointer-events: none !important;
    }

    *[class^="text-"] {
        color: transparent; 
        @apply rounded-md bg-foreground/15 select-none animate-pulse;
    }

    .skeleton-bg {
        @apply bg-foreground/5;
    }

    .skeleton-div {
        @apply bg-foreground/15 animate-pulse;
    }
}

/* Layout container for the entire page */
.page-container {
    display: grid;
    grid-template-columns: 280px 1fr;
    grid-template-rows: 1fr auto;
    min-height: 100vh;
    grid-template-areas:
        "sidebar main"
        "footer footer";
    gap: 1.5rem;
    padding: 1.5rem;
}

/* Sidebar styling with sundrenched matted effect */
.sidebar {
    grid-area: sidebar;
    background: var(--sidebar-background);
    border-radius: var(--radius);
    padding: 1.5rem;
    box-shadow: var(--card-shadow);
    position: relative;
    overflow: hidden;
}

/* Add matted sundrenched effect */
.sidebar::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        135deg,
        hsla(16, 90%, 75%, 0.4),
        hsla(16, 80%, 65%, 0.2)
    );
    z-index: 0;
    opacity: 0.8;
}

.sidebar > * {
    position: relative;
    z-index: 1;
}

/* Main content area with floating effect */
.main-content {
    grid-area: main;
    position: relative;
}

/* Floating container with blur effect */
.floating-container {
    background: hsla(25, 70%, 90%, var(--floating-opacity));
    backdrop-filter: blur(var(--floating-blur));
    -webkit-backdrop-filter: blur(var(--floating-blur));
    border-radius: var(--radius);
    padding: 2rem;
    box-shadow: var(--card-shadow);
    border: 1px solid hsla(16, 60%, 75%, 0.3);
    height: 100%;
    overflow: hidden;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.floating-container:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15), 0 3px 10px rgba(0, 0, 0, 0.1);
}

.dark .floating-container {
    background: hsla(16, 65%, 25%, var(--floating-opacity));
    border: 1px solid hsla(16, 50%, 45%, 0.3);
}

/* Footer with sundrenched matted effect */
.footer {
    grid-area: footer;
    background: var(--sidebar-background);
    border-radius: var(--radius);
    padding: 1.5rem;
    margin-top: 1rem;
    box-shadow: var(--card-shadow);
    position: relative;
    overflow: hidden;
}

/* Add matted sundrenched effect to footer */
.footer::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(
        to right,
        hsla(16, 90%, 75%, 0.4),
        hsla(16, 80%, 65%, 0.2)
    );
    z-index: 0;
    opacity: 0.8;
}

.footer > * {
    position: relative;
    z-index: 1;
}

/* Card component with floating effect */
.card {
    border-radius: var(--radius);
    padding: 1.5rem;
    background: hsla(25, 70%, 95%, 0.9);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
    border: 1px solid hsla(16, 60%, 75%, 0.3);
    box-shadow: var(--card-shadow);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    margin-bottom: 1.5rem;
    position: relative;
    overflow: hidden;
}

.card:hover {
    transform: translateY(-3px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.08), 0 3px 10px rgba(0, 0, 0, 0.05);
}

.dark .card {
    background: hsla(16, 60%, 20%, 0.85);
    border: 1px solid hsla(16, 50%, 35%, 0.3);
}

/* Buttons with gradient and 3D effect */
.button, .btn {
    padding: 0.65rem 1.25rem;
    background: var(--button-gradient);
    border-radius: var(--radius);
    font-weight: 500;
    color: hsla(0, 0%, 10%, 0.9);
    border: none;
    position: relative;
    overflow: hidden;
    transition: all 0.2s ease;
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1), 0 1px 3px rgba(0, 0, 0, 0.08);
    transform: translateY(0);
}

.button:hover, .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 10px rgba(0, 0, 0, 0.12), 0 2px 4px rgba(0, 0, 0, 0.1);
}

.button:active, .btn:active {
    transform: translateY(1px);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.08);
}

.dark .button, .dark .btn {
    background: var(--button-gradient);
    color: hsla(0, 0%, 95%, 0.9);
    box-shadow: 0 3px 6px rgba(0, 0, 0, 0.2), 0 1px 3px rgba(0, 0, 0, 0.16);
}

/* Special 3D floating divider */
.floating-divider {
    height: 5px;
    background: linear-gradient(to right, hsla(16, 90%, 70%, 0.7), hsla(25, 70%, 50%, 0.7));
    border-radius: 5px;
    margin: 2rem 0;
    position: relative;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
}

.floating-divider::before {
    content: '';
    position: absolute;
    top: -2px;
    left: 5%;
    right: 5%;
    height: 1px;
    background: hsla(16, 90%, 85%, 0.8);
    border-radius: 5px;
}

.dark .floating-divider {
    background: linear-gradient(to right, hsla(16, 70%, 45%, 0.7), hsla(25, 60%, 35%, 0.7));
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.16);
}

.dark .floating-divider::before {
    background: hsla(16, 70%, 55%, 0.4);
}

/* Media queries for responsive design */
@media (max-width: 768px) {
    .page-container {
        grid-template-columns: 1fr;
        grid-template-areas:
            "sidebar"
            "main"
            "footer";
    }
    
    body {
        font-size: 1.2rem;
    }
    
    .floating-container,
    .sidebar,
    .footer {
        padding: 1rem;
    }
}

/* Custom scrollbar for eye comfort */
::-webkit-scrollbar {
    width: 14px;
    height: 14px;
}

::-webkit-scrollbar-track {
    background: var(--scrollbar-track-gradient);
}

::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb-gradient);
    border-radius: 7px;
    border: 3px solid transparent;
    background-clip: content-box;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(to bottom, hsl(16, 75%, 60%), hsl(25, 65%, 50%));
    background-clip: content-box;
}

/* Special blurred background elements */
.blur-element {
    position: absolute;
    border-radius: 50%;
    filter: blur(60px);
    z-index: -1;
    opacity: 0.4;
}

.blur-element-1 {
    background: hsla(16, 90%, 65%, 0.6);
    width: 200px;
    height: 200px;
    top: 10%;
    left: 5%;
}

.blur-element-2 {
    background: hsla(25, 80%, 55%, 0.6);
    width: 300px;
    height: 300px;
    bottom: 10%;
    right: 5%;
}

.dark .blur-element-1 {
    background: hsla(16, 70%, 45%, 0.5);
}

.dark .blur-element-2 {
    background: hsla(25, 60%, 35%, 0.5);
}

/* Special embedding effect for switching background colors */
.embedding-container {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius);
    transition: background 0.5s ease;
}

.embedding-container::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(to right, 
                               hsla(16, 80%, 65%, 0.25), 
                               hsla(25, 70%, 45%, 0.25));
    z-index: -1;
    transition: opacity 0.5s ease;
}

.embedding-container:hover::before {
    background: linear-gradient(to right, 
                              hsla(25, 70%, 45%, 0.25), 
                              hsla(16, 80%, 65%, 0.25));
}

.dark .embedding-container::before {
    background: linear-gradient(to right, 
                               hsla(16, 70%, 35%, 0.25), 
                               hsla(25, 60%, 25%, 0.25));
}

.dark .embedding-container:hover::before {
    background: linear-gradient(to right, 
                              hsla(25, 60%, 25%, 0.25), 
                              hsla(16, 70%, 35%, 0.25));
}